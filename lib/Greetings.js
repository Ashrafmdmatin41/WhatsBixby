/* Copyright (C) 2023 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

(function(_0x3cab00,_0x50e7e7){function _0x40df6d(_0x4349d8,_0xa2c78e){return _0x5f04(_0x4349d8- -0x15c,_0xa2c78e);}const _0x5a4816=_0x3cab00();while(!![]){try{const _0x5184f0=parseInt(_0x40df6d(0x5c,0x57))/0x1*(parseInt(_0x40df6d(0x59,0x55))/0x2)+-parseInt(_0x40df6d(0x61,0x5f))/0x3*(-parseInt(_0x40df6d(0x57,0x59))/0x4)+-parseInt(_0x40df6d(0x63,0x61))/0x5*(parseInt(_0x40df6d(0x56,0x65))/0x6)+-parseInt(_0x40df6d(0x5d,0x50))/0x7*(parseInt(_0x40df6d(0x5a,0x66))/0x8)+-parseInt(_0x40df6d(0x52,0x47))/0x9+parseInt(_0x40df6d(0x67,0x68))/0xa+-parseInt(_0x40df6d(0x69,0x64))/0xb*(-parseInt(_0x40df6d(0x5e,0x5d))/0xc);if(_0x5184f0===_0x50e7e7)break;else _0x5a4816['push'](_0x5a4816['shift']());}catch(_0xed5339){_0x5a4816['push'](_0x5a4816['shift']());}}}(_0x1049,0xe46e0));function _0x5c6182(_0x194b2f,_0x240d39){return _0x5f04(_0x240d39-0x2a4,_0x194b2f);}const {FiletypeFromUrl,parseJid,extractUrlFromMessage}=require('.'),{getStatus,getMessage}=require(_0x5c6182(0x452,0x460));async function Greetings(_0x5911bf,_0xb81ff){const _0x11bfe4=await _0xb81ff[_0x2a5158(0x2c9,0x2d0)](_0x5911bf['id']),_0x11750a=_0x5911bf[_0x2a5158(0x2d7,0x2d3)];function _0x2a5158(_0x455f3c,_0xa2e58f){return _0x5c6182(_0xa2e58f,_0x455f3c- -0x18f);}for(const _0x35eb87 of _0x11750a){const _0x3a01d7=await getUserProfilePicture(_0xb81ff,_0x35eb87);switch(_0x5911bf[_0x2a5158(0x2d0,0x2c9)]){case _0x2a5158(0x2c0,0x2b3):{await handleGroupAction(_0xb81ff,_0x5911bf['id'],_0x11bfe4,_0x35eb87,_0x3a01d7,_0x2a5158(0x2d3,0x2c9));break;}case _0x2a5158(0x2c6,0x2bd):{await handleGroupAction(_0xb81ff,_0x5911bf['id'],_0x11bfe4,_0x35eb87,_0x3a01d7,_0x2a5158(0x2c5,0x2b7));break;}}}}async function getUserProfilePicture(_0x13f23f,_0x49d231){function _0x467eb7(_0x1cc5d8,_0x12dc6e){return _0x5c6182(_0x1cc5d8,_0x12dc6e- -0x5c);}try{return await _0x13f23f[_0x467eb7(0x409,0x40c)](_0x49d231,_0x467eb7(0x3fe,0x3ff));}catch{return'https://getwallpapers.com/wallpaper/full/3/5/b/530467.jpg';}}function _0x5f04(_0x3f80aa,_0x11fc07){const _0x1049d5=_0x1049();return _0x5f04=function(_0x5f0458,_0xfd4ff0){_0x5f0458=_0x5f0458-0x1a9;let _0x2cacc3=_0x1049d5[_0x5f0458];return _0x2cacc3;},_0x5f04(_0x3f80aa,_0x11fc07);}function _0x1049(){const _0x401269=['1DTZEYx','2808421FCYbZH','630636bTGbBO','action','./db/greetings','1527kJsznG','welcome','10goDfqC','replace','exports','participants','5170100XBCWmf','profilePictureUrl','539FJFmHC','video','sendMessage','add','trim','message','8589294uZIuDD','subject','goodbye','remove','4486212YeuzPe','3860BdqbVn','groupMetadata','406658kxwWbf','8ceWUQt','image'];_0x1049=function(){return _0x401269;};return _0x1049();}async function handleGroupAction(_0xd5d5c,_0x30e955,_0x56f056,_0x42eed8,_0x50f1db,_0x4f4891){function _0x33898a(_0xabddb4,_0x16a897){return _0x5c6182(_0xabddb4,_0x16a897- -0x5cb);}const _0x5849f2=await getStatus(_0x30e955,_0x4f4891);if(!_0x5849f2)return;const _0x4efcc5=await getMessage(_0x30e955,_0x4f4891);let _0x250134=replaceMessagePlaceholders(_0x4efcc5[_0x33898a(-0x17d,-0x17a)],_0x42eed8,_0x56f056);const _0x3d93d1=extractUrlFromMessage(_0x250134);if(_0x3d93d1){const {type:_0x58d19a,buffer:_0x2420ef}=await FiletypeFromUrl(_0x3d93d1);if(_0x58d19a===_0x33898a(-0x164,-0x170)||_0x58d19a===_0x33898a(-0x180,-0x17e)){const _0x3f2c6f=_0x250134[_0x33898a(-0x163,-0x167)](_0x3d93d1,'')[_0x33898a(-0x17f,-0x17b)]();_0xd5d5c[_0x33898a(-0x178,-0x17d)](_0x30e955,{[_0x58d19a]:_0x2420ef,'caption':_0x3f2c6f,'mentions':parseJid(_0x250134)});}else _0xd5d5c[_0x33898a(-0x178,-0x17d)](_0x30e955,{'text':_0x250134,'mentions':parseJid(_0x250134)});}else _0xd5d5c[_0x33898a(-0x183,-0x17d)](_0x30e955,{'text':_0x250134,'mentions':parseJid(_0x250134)});}function replaceMessagePlaceholders(_0x5822ac,_0x196ca7,_0x3b2c05){function _0x49ea9a(_0x2125b9,_0x4423e1){return _0x5c6182(_0x4423e1,_0x2125b9- -0x43a);}return _0x5822ac[_0x49ea9a(0x2a,0x21)](/@user/gi,'@'+_0x196ca7['split']('@')[0x0])[_0x49ea9a(0x2a,0x2f)](/@gname/gi,_0x3b2c05[_0x49ea9a(0x19,0x13)])[_0x49ea9a(0x2a,0x27)](/@count/gi,_0x3b2c05[_0x49ea9a(0x2c,0x33)]['length']);}module[_0x5c6182(0x459,0x465)]=Greetings;
