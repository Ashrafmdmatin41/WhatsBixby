/* Copyright (C) 2024 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

const BixbyInc_0x2f683b=BixbyInc_0x313f;(function(_0x308f11,_0x4f6d85){const _0x14e59d=BixbyInc_0x313f,_0x161dc9=_0x308f11();while(!![]){try{const _0xf4bc2a=parseInt(_0x14e59d(0x165))/0x1+-parseInt(_0x14e59d(0x142))/0x2*(parseInt(_0x14e59d(0x147))/0x3)+parseInt(_0x14e59d(0x128))/0x4+parseInt(_0x14e59d(0xf4))/0x5+parseInt(_0x14e59d(0x154))/0x6+parseInt(_0x14e59d(0x127))/0x7+-parseInt(_0x14e59d(0x13b))/0x8*(parseInt(_0x14e59d(0x11a))/0x9);if(_0xf4bc2a===_0x4f6d85)break;else _0x161dc9['push'](_0x161dc9['shift']());}catch(_0x162dcb){_0x161dc9['push'](_0x161dc9['shift']());}}}(BixbyInc_0xb889,0xb3cf2));const {jidDecode,downloadContentFromMessage,getContentType,generateForwardMessageContent,generateLinkPreviewIfRequired,generateWAMessageFromContent}=require(BixbyInc_0x2f683b(0x11e)),fs=require('fs');function BixbyInc_0xb889(){const _0x5225b7=['mentions','\x0aitem1.X-ABLabel:Phone\x20number\x0aitem4.ADR:;;India;;;;\x0aitem4.X-ABLabel:Region\x0aEND:VCARD','getName','sticker','number','withTag','-fs\x201M','3309700ccccSV','log','alloc','ignore','audio','server','includes','format','application/octet-stream','user','getFile','-vcodec','send','templateButtonReplyMessage','join','buttonsMessage','view_once','sendMessage','selectedId','relayMessage','ext','quoted','map','sendFile','concat','hydratedFourRowTemplate','error','status','keys','@g.us','then','endsWith','listResponseMessage','copyNForward','decodeJid','Result\x20is\x20not\x20a\x20buffer','readViewOnce','image','261FQpBNQ','fromMe','getQuotedObj','contextInfo','@whiskeysockets/baileys','data','writeFileSync','key','@s.whatsapp.net','viewOnce','type','toString','participant','2760793yExVyJ','343512fLRGon','description','mime','client','ephemeralMessage','selectedButtonId','caption','isGroup','mentionedJid','document','./functions','util','../','existsSync','hydratedTemplate','mtype','json','sendContact','trim','177464hfhHTX','quotedMessage','viewOnceMessage','download','from','file-type','loadMessage','14ygaYUZ','video','-vf','../config','length','222237qhxJXV','writeFile','.bin','message','selectedRowId','now','remoteJid','audio/mpeg','templateMessage','base64','./tmp/','parse','\x0aitem1.TEL;waid=','3824844rqYioQ','packname','normal','node-fetch','readFileSync','isBuffer','test','buffer','isSelf','\x0aFN:','sender','filter','author','text','stanzaId','fromBuffer','getQuotedMessage','118667iUACTI','buttonsResponseMessage','matchAll','sendFromUrl','logger','unlinkSync','promises','split'];BixbyInc_0xb889=function(){return _0x5225b7;};return BixbyInc_0xb889();}function BixbyInc_0x313f(_0x59e4e6,_0x3fec49){const _0xb88903=BixbyInc_0xb889();return BixbyInc_0x313f=function(_0x313f24,_0x127de9){_0x313f24=_0x313f24-0xea;let _0x3b429d=_0xb88903[_0x313f24];return _0x3b429d;},BixbyInc_0x313f(_0x59e4e6,_0x3fec49);}cmd={0x1:[BixbyInc_0x2f683b(0xf3),BixbyInc_0x2f683b(0xff),'libwebp',BixbyInc_0x2f683b(0x144),'scale=512:512:flags=lanczos:force_original_aspect_ratio=decrease,format=rgba,pad=512:512:(ow-iw)/2:(oh-ih)/2:color=#00000000,setsar=1'],0x2:[BixbyInc_0x2f683b(0xf3),BixbyInc_0x2f683b(0xff),'libwebp']};const fetch=require(BixbyInc_0x2f683b(0x157)),{fromBuffer}=require('file-type');let path=require('path');const {writeExifImg,writeExifVid,imageToWebp,videoToWebp}=require(BixbyInc_0x2f683b(0x132)),config=require(BixbyInc_0x2f683b(0x145)),downloadMedia=(_0x5633c0,_0x3df831)=>new Promise(async(_0xbe4991,_0x18c1ed)=>{const _0x511515=BixbyInc_0x2f683b;let _0x1f2e41=Object['keys'](_0x5633c0)[0x0],_0x242048={'imageMessage':_0x511515(0x119),'videoMessage':'video','stickerMessage':_0x511515(0xf0),'documentMessage':_0x511515(0x131),'audioMessage':_0x511515(0xf8)},_0xe05de9=_0x5633c0;_0x1f2e41=='templateMessage'&&(_0xe05de9=_0x5633c0[_0x511515(0x14f)][_0x511515(0x10d)],_0x1f2e41=Object[_0x511515(0x110)](_0xe05de9)[0x0]);_0x1f2e41==_0x511515(0x103)&&(_0xe05de9=_0x5633c0[_0x511515(0x103)],_0x1f2e41=Object['keys'](_0xe05de9)[0x0]);try{if(_0x3df831){const _0x29a2c6=await downloadContentFromMessage(_0xe05de9[_0x1f2e41],_0x242048[_0x1f2e41]);let _0x2381e5=Buffer[_0x511515(0x13f)]([]);for await(const _0x2ee196 of _0x29a2c6){_0x2381e5=Buffer[_0x511515(0x10c)]([_0x2381e5,_0x2ee196]);}await fs[_0x511515(0xeb)]['writeFile'](_0x3df831,_0x2381e5),_0xbe4991(_0x3df831);}else{const _0x5c4992=await downloadContentFromMessage(_0xe05de9[_0x1f2e41],_0x242048[_0x1f2e41]);let _0x3f91b7=Buffer['from']([]);for await(const _0x3e1928 of _0x5c4992){_0x3f91b7=Buffer[_0x511515(0x10c)]([_0x3f91b7,_0x3e1928]);}_0xbe4991(_0x3f91b7);}}catch(_0x3cb269){_0x18c1ed(_0x3cb269),console['log'](_0x3cb269['stack']);}});async function serialize(_0x5b56ea,_0x164abd){const _0x3e7f37=BixbyInc_0x2f683b;_0x5b56ea[_0x3e7f37(0x116)]=_0x3d2d73=>{const _0x41da88=_0x3e7f37;if(/:\d+@/gi[_0x41da88(0x15a)](_0x3d2d73)){const _0x5d9c8f=jidDecode(_0x3d2d73)||{};return(_0x5d9c8f[_0x41da88(0xfd)]&&_0x5d9c8f['server']&&_0x5d9c8f[_0x41da88(0xfd)]+'@'+_0x5d9c8f[_0x41da88(0xf9)]||_0x3d2d73)[_0x41da88(0x13a)]();}else return _0x3d2d73;},_0x164abd[_0x3e7f37(0x115)]=async(_0xac07b5,_0xdaf02c,_0x448013=![],_0x4ceadf={})=>{const _0x19ccb1=_0x3e7f37;let _0x3cb6c3;_0x4ceadf[_0x19ccb1(0x118)]&&(_0xdaf02c[_0x19ccb1(0x14a)]=_0xdaf02c[_0x19ccb1(0x14a)]&&_0xdaf02c[_0x19ccb1(0x14a)][_0x19ccb1(0x12c)]&&_0xdaf02c[_0x19ccb1(0x14a)]['ephemeralMessage'][_0x19ccb1(0x14a)]?_0xdaf02c[_0x19ccb1(0x14a)][_0x19ccb1(0x12c)]['message']:_0xdaf02c['message']||undefined,_0x3cb6c3=Object[_0x19ccb1(0x110)](_0xdaf02c['message']['viewOnceMessage'][_0x19ccb1(0x14a)])[0x0],delete(_0xdaf02c[_0x19ccb1(0x14a)]&&_0xdaf02c['message'][_0x19ccb1(0xf7)]?_0xdaf02c['message']['ignore']:_0xdaf02c['message']||undefined),delete _0xdaf02c[_0x19ccb1(0x14a)][_0x19ccb1(0x13d)][_0x19ccb1(0x14a)][_0x3cb6c3][_0x19ccb1(0x123)],_0xdaf02c[_0x19ccb1(0x14a)]={..._0xdaf02c[_0x19ccb1(0x14a)][_0x19ccb1(0x13d)]['message']});let _0x55fc28=Object[_0x19ccb1(0x110)](_0xdaf02c[_0x19ccb1(0x14a)])[0x0],_0x183bcb=await generateForwardMessageContent(_0xdaf02c,_0x448013),_0x322f96=Object[_0x19ccb1(0x110)](_0x183bcb)[0x0],_0x2e481f={};if(_0x55fc28!='conversation')_0x2e481f=_0xdaf02c['message'][_0x55fc28][_0x19ccb1(0x11d)];_0x183bcb[_0x322f96][_0x19ccb1(0x11d)]={..._0x2e481f,..._0x183bcb[_0x322f96][_0x19ccb1(0x11d)]};const _0x11d701=await generateWAMessageFromContent(_0xac07b5,_0x183bcb,_0x4ceadf?{..._0x183bcb[_0x322f96],..._0x4ceadf,..._0x4ceadf[_0x19ccb1(0x11d)]?{'contextInfo':{..._0x183bcb[_0x322f96][_0x19ccb1(0x11d)],..._0x4ceadf['contextInfo']}}:{}}:{});return await _0x164abd[_0x19ccb1(0x107)](_0xac07b5,_0x11d701[_0x19ccb1(0x14a)],{'messageId':_0x11d701['key']['id']}),_0x11d701;},_0x5b56ea[_0x3e7f37(0x139)]=async(_0x4205e1,_0x461cc8,_0x22de8d=![],_0x24cd79={})=>{const _0xbbbbcb=_0x3e7f37;let _0x241fa5=[];for(let _0x5ae481 of _0x461cc8){num=typeof _0x5ae481==_0xbbbbcb(0xf1)?_0x5ae481+_0xbbbbcb(0x122):_0x5ae481,num2=typeof _0x5ae481==_0xbbbbcb(0xf1)?_0x5ae481:_0x5ae481['split']('@')[0x0],_0x241fa5['push']({'displayName':await _0x164abd[_0xbbbbcb(0xef)](num),'vcard':'BEGIN:VCARD\x0aVERSION:3.0\x0aFN:'+await _0x164abd[_0xbbbbcb(0xef)](num)+_0xbbbbcb(0x15d)+await _0x164abd['getName'](num)+_0xbbbbcb(0x153)+num2+':'+num2+_0xbbbbcb(0xee)});}return _0x164abd[_0xbbbbcb(0x105)](_0x4205e1,{'contacts':{'displayName':_0x241fa5[_0xbbbbcb(0x146)]+'\x20Contact','contacts':_0x241fa5},..._0x24cd79},{'quoted':_0x22de8d});},_0x164abd[_0x3e7f37(0x169)]={..._0x164abd['logger'],'info'(){const _0x40fd46=_0x3e7f37;console[_0x40fd46(0xf5)]();},'error'(){const _0x185efc=_0x3e7f37;console[_0x185efc(0xf5)]();},'warn'(){const _0x1c0502=_0x3e7f37;console[_0x1c0502(0xf5)]();}};_0x5b56ea[_0x3e7f37(0x121)]&&(_0x5b56ea['id']=_0x5b56ea[_0x3e7f37(0x121)]['id'],_0x5b56ea[_0x3e7f37(0x15c)]=_0x5b56ea[_0x3e7f37(0x121)][_0x3e7f37(0x11b)],_0x5b56ea[_0x3e7f37(0x13f)]=_0x5b56ea[_0x3e7f37(0x121)][_0x3e7f37(0x14d)],_0x5b56ea['isGroup']=_0x5b56ea[_0x3e7f37(0x13f)][_0x3e7f37(0x113)](_0x3e7f37(0x111)),_0x5b56ea[_0x3e7f37(0x15e)]=_0x5b56ea[_0x3e7f37(0x12f)]?_0x5b56ea[_0x3e7f37(0x116)](_0x5b56ea[_0x3e7f37(0x121)][_0x3e7f37(0x126)]):_0x5b56ea['isSelf']?_0x5b56ea[_0x3e7f37(0x116)](_0x164abd['user']['id']):_0x5b56ea[_0x3e7f37(0x13f)]);if(_0x5b56ea[_0x3e7f37(0x14a)]){_0x5b56ea[_0x3e7f37(0x124)]=getContentType(_0x5b56ea[_0x3e7f37(0x14a)]);if(_0x5b56ea[_0x3e7f37(0x124)]===_0x3e7f37(0x12c)){_0x5b56ea['message']=_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x14a)];const _0x1ec6be=Object[_0x3e7f37(0x110)](_0x5b56ea[_0x3e7f37(0x14a)])[0x0];_0x5b56ea[_0x3e7f37(0x124)]=_0x1ec6be,_0x1ec6be===_0x3e7f37(0x13d)&&(_0x5b56ea[_0x3e7f37(0x14a)]=_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x14a)],_0x5b56ea[_0x3e7f37(0x124)]=getContentType(_0x5b56ea[_0x3e7f37(0x14a)]));}_0x5b56ea['type']===_0x3e7f37(0x13d)&&(_0x5b56ea[_0x3e7f37(0x14a)]=_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]]['message'],_0x5b56ea['type']=getContentType(_0x5b56ea['message']));try{_0x5b56ea[_0x3e7f37(0xed)]=_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x11d)]?_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea['type']][_0x3e7f37(0x11d)][_0x3e7f37(0x130)]||[]:[];}catch{_0x5b56ea['mentions']=![];}try{const _0xb1e7bb=_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea['type']]['contextInfo'];if(_0xb1e7bb[_0x3e7f37(0x13c)][_0x3e7f37(0x12c)]){const _0x905db3=Object[_0x3e7f37(0x110)](_0xb1e7bb[_0x3e7f37(0x13c)][_0x3e7f37(0x12c)][_0x3e7f37(0x14a)])[0x0];_0x905db3===_0x3e7f37(0x13d)?_0x5b56ea[_0x3e7f37(0x109)]={'type':_0x3e7f37(0x104),'stanzaId':_0xb1e7bb[_0x3e7f37(0x162)],'sender':_0x5b56ea['decodeJid'](_0xb1e7bb[_0x3e7f37(0x126)]),'message':_0xb1e7bb[_0x3e7f37(0x13c)][_0x3e7f37(0x12c)][_0x3e7f37(0x14a)][_0x3e7f37(0x13d)][_0x3e7f37(0x14a)]}:_0x5b56ea[_0x3e7f37(0x109)]={'type':'ephemeral','stanzaId':_0xb1e7bb[_0x3e7f37(0x162)],'sender':_0x5b56ea['decodeJid'](_0xb1e7bb[_0x3e7f37(0x126)]),'message':_0xb1e7bb['quotedMessage']['ephemeralMessage'][_0x3e7f37(0x14a)]};}else _0xb1e7bb[_0x3e7f37(0x13c)][_0x3e7f37(0x13d)]?_0x5b56ea[_0x3e7f37(0x109)]={'type':'view_once','stanzaId':_0xb1e7bb[_0x3e7f37(0x162)],'sender':_0x5b56ea[_0x3e7f37(0x116)](_0xb1e7bb[_0x3e7f37(0x126)]),'message':_0xb1e7bb[_0x3e7f37(0x13c)][_0x3e7f37(0x13d)][_0x3e7f37(0x14a)]}:_0x5b56ea['quoted']={'type':_0x3e7f37(0x156),'stanzaId':_0xb1e7bb[_0x3e7f37(0x162)],'sender':_0x5b56ea[_0x3e7f37(0x116)](_0xb1e7bb[_0x3e7f37(0x126)]),'message':_0xb1e7bb[_0x3e7f37(0x13c)]};_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x15c)]=_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x15e)]===_0x5b56ea['decodeJid'](_0x164abd[_0x3e7f37(0xfd)]['id']),_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x137)]=Object[_0x3e7f37(0x110)](_0x5b56ea['quoted']['message'])[_0x3e7f37(0x15f)](_0x3b4618=>_0x3b4618[_0x3e7f37(0xfa)]('Message')||_0x3b4618[_0x3e7f37(0xfa)]('conversation'))[0x0],_0x5b56ea[_0x3e7f37(0x109)]['text']=_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x109)]['mtype']][_0x3e7f37(0x161)]||_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x137)]][_0x3e7f37(0x129)]||_0x5b56ea[_0x3e7f37(0x109)]['message'][_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x137)]][_0x3e7f37(0x12e)]||_0x5b56ea[_0x3e7f37(0x109)]['mtype']==_0x3e7f37(0x101)&&_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x14a)][_0x5b56ea['quoted'][_0x3e7f37(0x137)]][_0x3e7f37(0x136)]['hydratedContentText']||_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x137)]]||'',_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x121)]={'id':_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x162)],'fromMe':_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x15c)],'remoteJid':_0x5b56ea[_0x3e7f37(0x13f)]},_0x5b56ea[_0x3e7f37(0x109)]['delete']=()=>_0x164abd[_0x3e7f37(0x105)](_0x5b56ea[_0x3e7f37(0x13f)],{'delete':_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x121)]}),_0x5b56ea['quoted'][_0x3e7f37(0x13e)]=_0xaff69b=>downloadMedia(_0x5b56ea[_0x3e7f37(0x109)][_0x3e7f37(0x14a)],_0xaff69b);}catch(_0x36680b){_0x5b56ea[_0x3e7f37(0x109)]=null;}try{_0x5b56ea['body']=_0x5b56ea[_0x3e7f37(0x14a)]['conversation']||_0x5b56ea['message'][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x161)]||_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x12e)]||_0x5b56ea['type']===_0x3e7f37(0x114)&&_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea['type']]['singleSelectReply'][_0x3e7f37(0x14b)]||_0x5b56ea[_0x3e7f37(0x124)]===_0x3e7f37(0x166)&&_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x12d)]&&_0x5b56ea['message'][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x12d)]||_0x5b56ea[_0x3e7f37(0x124)]===_0x3e7f37(0x101)&&_0x5b56ea[_0x3e7f37(0x14a)][_0x5b56ea[_0x3e7f37(0x124)]][_0x3e7f37(0x106)]||![];}catch{_0x5b56ea['body']=![];}_0x5b56ea[_0x3e7f37(0x11c)]=_0x5b56ea[_0x3e7f37(0x164)]=async()=>{const _0x2e3c09=_0x3e7f37;if(!_0x5b56ea[_0x2e3c09(0x109)][_0x2e3c09(0x162)])return![];let _0x39f148=await store[_0x2e3c09(0x141)](_0x5b56ea[_0x2e3c09(0x13f)],_0x5b56ea[_0x2e3c09(0x109)][_0x2e3c09(0x162)],_0x164abd);return serialize(_0x39f148,_0x164abd);},_0x164abd[_0x3e7f37(0xfe)]=async(_0x1cb12b,_0x5d07b8)=>{const _0xa609af=_0x3e7f37;let _0x37710c,_0x15c616,_0x2359b8=Buffer['isBuffer'](_0x1cb12b)?_0x1cb12b:/^data:.*?\/.*?;base64,/i[_0xa609af(0x15a)](_0x1cb12b)?Buffer['from'](_0x1cb12b['split']`,`[0x1],_0xa609af(0x150)):/^https?:\/\//[_0xa609af(0x15a)](_0x1cb12b)?await(_0x37710c=await fetch(_0x1cb12b))[_0xa609af(0x15b)]():fs[_0xa609af(0x135)](_0x1cb12b)?(_0x15c616=_0x1cb12b,fs[_0xa609af(0x158)](_0x1cb12b)):typeof _0x1cb12b==='string'?_0x1cb12b:Buffer[_0xa609af(0xf6)](0x0);if(!Buffer[_0xa609af(0x159)](_0x2359b8))throw new TypeError(_0xa609af(0x117));let _0xd71ac2=await fromBuffer(_0x2359b8)||{'mime':_0xa609af(0xfc),'ext':_0xa609af(0x149)};if(_0x2359b8&&_0x5d07b8&&!_0x15c616)_0x15c616=path[_0xa609af(0x102)](__dirname,_0xa609af(0x134)+new Date()*0x1+'.'+_0xd71ac2[_0xa609af(0x108)]),await fs[_0xa609af(0xeb)][_0xa609af(0x148)](_0x15c616,_0x2359b8);return{'res':_0x37710c,'filename':_0x15c616,..._0xd71ac2,'data':_0x2359b8};},_0x164abd['sendImageAsSticker']=async(_0x58d705,_0x4c26ea,_0x32108c={})=>{const _0x3373db=_0x3e7f37;let _0x4d36b1;_0x32108c&&(_0x32108c[_0x3373db(0x155)]||_0x32108c[_0x3373db(0x160)])?_0x4d36b1=await writeExifImg(_0x4c26ea,_0x32108c):_0x4d36b1=await imageToWebp(_0x4c26ea),await _0x164abd[_0x3373db(0x105)](_0x58d705,{'sticker':{'url':_0x4d36b1},..._0x32108c},_0x32108c);},_0x164abd['sendVideoAsSticker']=async(_0x280a68,_0x2887da,_0x9dd175={})=>{const _0x5b4aba=_0x3e7f37;let _0x21f0be;_0x9dd175&&(_0x9dd175[_0x5b4aba(0x155)]||_0x9dd175['author'])?_0x21f0be=await writeExifVid(_0x2887da,_0x9dd175):_0x21f0be=await videoToWebp(_0x2887da),await _0x164abd['sendMessage'](_0x280a68,{'sticker':{'url':_0x21f0be},..._0x9dd175},_0x9dd175);},_0x164abd['reply']=async(_0x388213,_0x3807b1='')=>{const _0x5507da=_0x3e7f37;_0x164abd[_0x5507da(0x105)](_0x5b56ea[_0x5507da(0x13f)],{'text':require(_0x5507da(0x133))[_0x5507da(0xfb)](_0x388213),'mentions':_0x3807b1[_0x5507da(0xf2)]?[..._0x388213[_0x5507da(0x167)](/@([0-9]{5,16}|0)/g)][_0x5507da(0x10a)](_0x1a4e77=>_0x1a4e77[0x1]+_0x5507da(0x122)):[],..._0x3807b1},{..._0x3807b1,'quoted':_0x5b56ea});},_0x5b56ea[_0x3e7f37(0x168)]=async(_0xa97226,_0x585a02='',_0x4c89df='',_0x4945f0,_0x1d56c4=![],_0x33dfa6={})=>{const _0x2109f1=_0x3e7f37;let _0x4ee3e4=await _0x164abd[_0x2109f1(0xfe)](_0xa97226,!![]),{res:_0x2cb5df,data:_0x4fbae5,filename:_0x2dcef7}=_0x4ee3e4;if(_0x2cb5df&&_0x2cb5df[_0x2109f1(0x10f)]!==0xc8||_0x4fbae5[_0x2109f1(0x146)]<=0x10000)try{throw{'json':JSON[_0x2109f1(0x152)](_0x4fbae5[_0x2109f1(0x125)]())};}catch(_0x51d195){if(_0x51d195[_0x2109f1(0x138)])throw _0x51d195[_0x2109f1(0x138)];}let _0x5af28e={'filename':_0x585a02};if(_0x4945f0)_0x5af28e[_0x2109f1(0x109)]=_0x4945f0;if(!_0x4ee3e4){if(_0x33dfa6['asDocument'])_0x33dfa6['asDocument']=!![];}let _0x32710f='',_0x1c4f16=_0x4ee3e4[_0x2109f1(0x12a)],_0x57e8d3=_0x4cad63=>_0x2109f1(0x151)+Date[_0x2109f1(0x14c)]()+'.'+_0x4cad63;if(/webp/[_0x2109f1(0x15a)](_0x4ee3e4[_0x2109f1(0x12a)]))_0x32710f=_0x2109f1(0xf0);else{if(/image/[_0x2109f1(0x15a)](_0x4ee3e4[_0x2109f1(0x12a)]))_0x32710f=_0x2109f1(0x119);else{if(/video/['test'](_0x4ee3e4[_0x2109f1(0x12a)]))_0x32710f=_0x2109f1(0x143);else{if(/audio/[_0x2109f1(0x15a)](_0x4ee3e4[_0x2109f1(0x12a)]))ss=await(_0x1d56c4?toPTT:toAudio2)(_0x4fbae5,_0x4ee3e4[_0x2109f1(0x108)]),skk=await require(_0x2109f1(0x140))[_0x2109f1(0x163)](ss['data']),ty=_0x57e8d3(skk[_0x2109f1(0x108)]),require('fs')[_0x2109f1(0x120)](ty,ss[_0x2109f1(0x11f)]),_0x2dcef7=ty,_0x32710f='audio',_0x1c4f16=_0x2109f1(0x14e);else _0x32710f=_0x2109f1(0x131);}}}_0x164abd[_0x2109f1(0x105)](_0x5b56ea['from'],{..._0x33dfa6,'caption':_0x4c89df,'ptt':_0x1d56c4,'fileName':_0x585a02,[_0x32710f]:{'url':_0x2dcef7},'mimetype':_0x1c4f16},{..._0x5af28e,..._0x33dfa6})[_0x2109f1(0x112)](()=>{const _0x1989b1=_0x2109f1;fs[_0x1989b1(0xea)](_0x2dcef7);});},_0x164abd[_0x3e7f37(0x10b)]=async(_0x5cdee9,_0x2a66ab,_0x535693={})=>{const _0x5b7736=_0x3e7f37;let _0x5bf8a4=await _0x164abd[_0x5b7736(0xfe)](_0x2a66ab,!![]),{res:_0x4bba8f,data:_0xa3ab0a,filename:_0x381ce3,mime:_0xbf3f59}=_0x5bf8a4,_0x4fa461=_0xbf3f59[_0x5b7736(0xec)]('/')[0x0];console[_0x5b7736(0xf5)](_0xbf3f59);let _0x527278={..._0x535693,[_0x4fa461]:{'url':_0x381ce3},'mimetype':_0x535693['mimetype']||_0xbf3f59},_0x5969a7;try{_0x5969a7=await _0x164abd[_0x5b7736(0x105)](_0x5cdee9,_0x527278,{..._0x535693});}catch(_0x41c0b8){console[_0x5b7736(0x10e)](_0x41c0b8),_0x5969a7=null;}finally{if(!_0x5969a7)_0x5969a7=await _0x164abd[_0x5b7736(0x105)](_0x5cdee9,{..._0x527278,[_0x4fa461]:_0xa3ab0a},{..._0x535693});return _0xa3ab0a=null,_0x5969a7;}},_0x164abd['reply']=async(_0x23b51a,_0x449617='')=>{const _0x158fef=_0x3e7f37;_0x164abd[_0x158fef(0x105)](_0x5b56ea['from'],{'text':require(_0x158fef(0x133))[_0x158fef(0xfb)](_0x23b51a),'mentions':_0x449617[_0x158fef(0xf2)]?[..._0x23b51a[_0x158fef(0x167)](/@([0-9]{5,16}|0)/g)][_0x158fef(0x10a)](_0x4f2f2b=>_0x4f2f2b[0x1]+_0x158fef(0x122)):[],..._0x449617},{..._0x449617,'quoted':_0x5b56ea});},_0x5b56ea[_0x3e7f37(0x100)]=async(_0x43fab8,_0x5af153)=>{const _0x24fc3d=_0x3e7f37;_0x164abd['sendMessage'](_0x5b56ea[_0x24fc3d(0x13f)],{'text':require(_0x24fc3d(0x133))[_0x24fc3d(0xfb)](_0x43fab8),..._0x5af153},{..._0x5af153});},_0x5b56ea[_0x3e7f37(0x13e)]=_0x5d6b07=>downloadMedia(_0x5b56ea[_0x3e7f37(0x14a)],_0x5d6b07),_0x164abd[_0x3e7f37(0x12b)]=_0x5b56ea;}return _0x5b56ea;}module['exports']={'serialize':serialize,'downloadMedia':downloadMedia};