/* Copyright (C) 2024 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

const BixbyInc_0x307158=BixbyInc_0x545d;function BixbyInc_0x1b8c(){const _0x10f404=['array','contacts.set','close','size','chats.delete','deleteById','push','userReceipt','splice','@whiskeysockets/baileys','20320KgoxCV','before','messageTimestamp','notify','map','get','6TvHtiw','2007620EDkgoL','key','synced\x20messages','unreadCount','has','stringify','1461086JAafBH','after','contacts.update','insertIfAbsent','demote','messageInfo','message-receipt.update','debug','assign','slice','logger','9gYKVVf','messages','findIndex','add','update','19SGWVSW','presence.update','append','archive','472930WHeRYu','fetchMessagesFromWA','promote','4714670tXZkTk','messages.set','messages.delete','groups.update','group-participants.update','loadMessageFromWA','conversationTimestamp','default','groupMetadata','filter','values','all','isAdmin','child','toString','profilePictureUrl','remoteJid','keys','remove','padStart','connection.update','chats.update','upsert','utf-8','440910JTOiiv','672ADNRrV','got\x20update\x20for\x20non-existant\x20chat','synced\x20chats','12XqQLdL','length','fromObject','includes','12076WoYqFM','prepend','imgUrl','contacts','undefined','participants','parse'];BixbyInc_0x1b8c=function(){return _0x10f404;};return BixbyInc_0x1b8c();}function BixbyInc_0x545d(_0x144180,_0x39263a){const _0x1b8c88=BixbyInc_0x1b8c();return BixbyInc_0x545d=function(_0x545d84,_0x33e4b5){_0x545d84=_0x545d84-0x1df;let _0x4c32fd=_0x1b8c88[_0x545d84];return _0x4c32fd;},BixbyInc_0x545d(_0x144180,_0x39263a);}(function(_0x3a4f3f,_0x5aac97){const _0x5d6065=BixbyInc_0x545d,_0x282908=_0x3a4f3f();while(!![]){try{const _0x3f3a12=parseInt(_0x5d6065(0x1f1))/0x1*(parseInt(_0x5d6065(0x218))/0x2)+parseInt(_0x5d6065(0x210))/0x3+parseInt(_0x5d6065(0x230))/0x4+-parseInt(_0x5d6065(0x1f5))/0x5*(-parseInt(_0x5d6065(0x22f))/0x6)+parseInt(_0x5d6065(0x211))/0x7*(parseInt(_0x5d6065(0x229))/0x8)+-parseInt(_0x5d6065(0x1ec))/0x9*(parseInt(_0x5d6065(0x1f8))/0xa)+parseInt(_0x5d6065(0x1e1))/0xb*(-parseInt(_0x5d6065(0x214))/0xc);if(_0x3f3a12===_0x5aac97)break;else _0x282908['push'](_0x282908['shift']());}catch(_0x45e416){_0x282908['push'](_0x282908['shift']());}}}(BixbyInc_0x1b8c,0x79842));const {proto,DEFAULT_CONNECTION_CONFIG,toNumber,updateMessageWithReceipt,jidNormalizedUser}=require(BixbyInc_0x307158(0x228)),make_ordered_dictionary_1=require('@whiskeysockets/baileys/lib/Store/make-ordered-dictionary'),waChatKey=_0x31a367=>({'key':_0x47bc25=>(_0x31a367?_0x47bc25['pin']?'1':'0':'')+(_0x47bc25[BixbyInc_0x307158(0x1f4)]?'0':'1')+(_0x47bc25[BixbyInc_0x307158(0x1fe)]?_0x47bc25[BixbyInc_0x307158(0x1fe)][BixbyInc_0x307158(0x206)](0x10)[BixbyInc_0x307158(0x20b)](0x8,'0'):'')+_0x47bc25['id'],'compare':(_0x49cac8,_0x590eb4)=>_0x590eb4['localeCompare'](_0x49cac8)}),waMessageID=_0x1742c5=>_0x1742c5['key']['id'],makeMessagesDictionary=()=>make_ordered_dictionary_1[BixbyInc_0x307158(0x1ff)](waMessageID),logger=DEFAULT_CONNECTION_CONFIG[BixbyInc_0x307158(0x1eb)][BixbyInc_0x307158(0x205)]({}),chatKey=waChatKey(!![]),KeyedDB=require('@adiwajshing/keyed-db')['default'];function bind(_0x159c57){const _0x3bcd42=BixbyInc_0x307158,_0x5d5d97=new KeyedDB(chatKey,_0x23326f=>_0x23326f['id']),_0x5495ef={},_0x900356={},_0xb234b8={},_0x573c33={},_0x3e0371={'connection':_0x3bcd42(0x221)},_0x42f7bd=_0x3a01e5=>{return!_0x5495ef[_0x3a01e5]&&(_0x5495ef[_0x3a01e5]=makeMessagesDictionary()),_0x5495ef[_0x3a01e5];},_0x739c06=_0x2234e4=>{const _0x273948=_0x3bcd42,_0x1d88b5=new Set(Object[_0x273948(0x209)](_0x900356));for(const _0x155f62 of _0x2234e4){_0x1d88b5['delete'](_0x155f62['id']),_0x900356[_0x155f62['id']]=Object[_0x273948(0x1e9)](_0x900356[_0x155f62['id']]||{},_0x155f62);}return _0x1d88b5;};_0x159c57['ev']['on'](_0x3bcd42(0x20c),_0x14a20b=>{const _0x4a9382=_0x3bcd42;Object[_0x4a9382(0x1e9)](_0x3e0371,_0x14a20b);}),_0x159c57['ev']['on']('chats.set',({chats:_0x5c2325,isLatest:_0x381e93})=>{const _0x5de74c=_0x3bcd42,_0x1f8aa2=_0x5d5d97[_0x5de74c(0x1e4)](..._0x5c2325)[_0x5de74c(0x215)];logger['debug']({'chatsAdded':_0x1f8aa2},_0x5de74c(0x213));}),_0x159c57['ev']['on'](_0x3bcd42(0x220),({contacts:_0x4b91bb})=>{const _0x4e288c=_0x3bcd42,_0x4db5bd=_0x739c06(_0x4b91bb);for(const _0x18be7d of _0x4db5bd){delete _0x900356[_0x18be7d];}logger['debug']({'deletedContacts':_0x4db5bd[_0x4e288c(0x222)],'newContacts':_0x4b91bb},'synced\x20contacts');}),_0x159c57['ev']['on'](_0x3bcd42(0x1f9),({messages:_0x48c940,isLatest:_0x5ddc2a})=>{const _0x382060=_0x3bcd42;if(_0x5ddc2a)for(const _0x159a8c in _0x5495ef){delete _0x5495ef[_0x159a8c];}for(const _0x143b66 of _0x48c940){const _0x153fbe=_0x143b66['key'][_0x382060(0x208)],_0x433332=_0x42f7bd(_0x153fbe);_0x433332['upsert'](_0x143b66,_0x382060(0x219));}logger[_0x382060(0x1e8)]({'messages':_0x48c940[_0x382060(0x215)]},_0x382060(0x232));}),_0x159c57['ev']['on'](_0x3bcd42(0x1e3),_0x24ccf9=>{const _0x3fa5cc=_0x3bcd42;try{for(const _0x3764f0 of _0x24ccf9){Object[_0x3fa5cc(0x1e9)](_0x900356[_0x3764f0['id']],_0x3764f0);}}catch{}}),_0x159c57['ev']['on']('chats.upsert',_0x483acb=>{try{_0x5d5d97['upsert'](..._0x483acb);}catch{}}),_0x159c57['ev']['on'](_0x3bcd42(0x1fa),_0x568ad0=>{const _0x2158e4=_0x3bcd42;if(_0x2158e4(0x203)in _0x568ad0){const _0x3b36a6=_0x5495ef[_0x568ad0['jid']];_0x3b36a6===null||_0x3b36a6===void 0x0?void 0x0:_0x3b36a6['clear']();}else{const _0x5da0c6=_0x568ad0[_0x2158e4(0x209)][0x0][_0x2158e4(0x208)],_0x587460=_0x5495ef[_0x5da0c6];if(_0x587460){const _0x371be3=new Set(_0x568ad0[_0x2158e4(0x209)][_0x2158e4(0x22d)](_0x349d73=>_0x349d73['id']));_0x587460['filter'](_0xcd66b=>!_0x371be3[_0x2158e4(0x1df)](_0xcd66b[_0x2158e4(0x231)]['id']));}}}),_0x159c57['ev']['on'](_0x3bcd42(0x223),_0x226e91=>{const _0x29b5f7=_0x3bcd42;for(const _0x4cadda of _0x226e91){_0x5d5d97[_0x29b5f7(0x224)](_0x4cadda);}}),_0x159c57['ev']['on'](_0x3bcd42(0x20d),_0xf36b9e=>{const _0x38e166=_0x3bcd42;for(let _0x5d11e2 of _0xf36b9e){const _0x333405=_0x5d5d97[_0x38e166(0x1f0)](_0x5d11e2['id'],_0x47f081=>{const _0x34d1b1=_0x38e166;_0x5d11e2[_0x34d1b1(0x233)]>0x0&&(_0x5d11e2={..._0x5d11e2},_0x5d11e2[_0x34d1b1(0x233)]=_0x47f081['unreadCount']+_0x5d11e2[_0x34d1b1(0x233)]),Object[_0x34d1b1(0x1e9)](_0x47f081,_0x5d11e2);});!_0x333405&&logger[_0x38e166(0x1e8)]({'update':_0x5d11e2},_0x38e166(0x212));}}),_0x159c57['ev']['on'](_0x3bcd42(0x1f2),({id:_0xdeea0,presences:_0xcace99})=>{const _0x28a655=_0x3bcd42;_0x573c33[_0xdeea0]=_0x573c33[_0xdeea0]||{},Object[_0x28a655(0x1e9)](_0x573c33[_0xdeea0],_0xcace99);}),_0x159c57['ev']['on']('messages.upsert',({messages:_0x49c103,type:_0xee568b})=>{const _0x2e5279=_0x3bcd42;switch(_0xee568b){case _0x2e5279(0x1f3):case _0x2e5279(0x22c):for(const _0x58f5ee of _0x49c103){const _0x8d1647=jidNormalizedUser(_0x58f5ee[_0x2e5279(0x231)][_0x2e5279(0x208)]),_0x32caf2=_0x42f7bd(_0x8d1647);_0x32caf2['upsert'](_0x58f5ee,_0x2e5279(0x1f3)),_0xee568b===_0x2e5279(0x22c)&&(!_0x5d5d97[_0x2e5279(0x22e)](_0x8d1647)&&_0x159c57['ev']['emit']('chats.upsert',[{'id':_0x8d1647,'conversationTimestamp':toNumber(_0x58f5ee[_0x2e5279(0x22b)]),'unreadCount':0x1}]));}break;}}),_0x159c57['ev']['on'](_0x3bcd42(0x1fb),_0x245fb8=>{const _0x1e8962=_0x3bcd42;for(const _0x3ca133 of _0x245fb8){_0xb234b8[_0x3ca133['id']]?Object[_0x1e8962(0x1e9)](_0xb234b8[_0x3ca133['id']],_0x3ca133):logger['debug']({'update':_0x3ca133},'got\x20update\x20for\x20non-existant\x20group\x20metadata');}}),_0x159c57['ev']['on'](_0x3bcd42(0x1fc),({id:_0x2781eb,participants:_0x28f265,action:_0x44f6c2})=>{const _0x4aab58=_0x3bcd42,_0x4265c1=_0xb234b8[_0x2781eb];if(_0x4265c1)switch(_0x44f6c2){case _0x4aab58(0x1ef):_0x4265c1[_0x4aab58(0x21d)][_0x4aab58(0x225)](..._0x28f265[_0x4aab58(0x22d)](_0x100bc4=>({'id':_0x100bc4,'isAdmin':![],'isSuperAdmin':![]})));break;case _0x4aab58(0x1e5):case _0x4aab58(0x1f7):for(const _0x55c305 of _0x4265c1[_0x4aab58(0x21d)]){_0x28f265[_0x4aab58(0x217)](_0x55c305['id'])&&(_0x55c305[_0x4aab58(0x204)]=_0x44f6c2===_0x4aab58(0x1f7));}break;case _0x4aab58(0x20a):_0x4265c1['participants']=_0x4265c1[_0x4aab58(0x21d)][_0x4aab58(0x201)](_0x15fe93=>!_0x28f265['includes'](_0x15fe93['id']));break;}}),_0x159c57['ev']['on'](_0x3bcd42(0x1e7),_0x4e2196=>{const _0x4ad7cf=_0x3bcd42;for(const {key:_0x6ea44f,receipt:_0x2c2d2c}of _0x4e2196){const _0x386f84=_0x5495ef[_0x6ea44f[_0x4ad7cf(0x208)]],_0x4062aa=_0x386f84===null||_0x386f84===void 0x0?void 0x0:_0x386f84[_0x4ad7cf(0x22e)](_0x6ea44f['id']);_0x4062aa&&updateMessageWithReceipt(_0x4062aa,_0x2c2d2c);}});const _0xb5f387=()=>({'chats':_0x5d5d97,'contacts':_0x900356,'messages':_0x5495ef}),_0x5c83ce=_0x4dbedd=>{const _0x4c9f03=_0x3bcd42;_0x5d5d97[_0x4c9f03(0x20e)](..._0x4dbedd['chats']),_0x739c06(Object[_0x4c9f03(0x202)](_0x4dbedd[_0x4c9f03(0x21b)]));for(const _0x319e6 in _0x4dbedd['messages']){const _0x5e2677=_0x42f7bd(_0x319e6);for(const _0x9e04c6 of _0x4dbedd[_0x4c9f03(0x1ed)][_0x319e6]){_0x5e2677[_0x4c9f03(0x20e)](proto['WebMessageInfo'][_0x4c9f03(0x216)](_0x9e04c6),_0x4c9f03(0x1f3));}}};async function _0x5012d4(_0x24c6d2,_0x3c60de,_0x453503){const _0x2d1ebf=_0x3bcd42,_0xc7f7da=_0x42f7bd(_0x24c6d2),_0x58e4e3=async(_0x528e2b,_0x204491)=>{const _0x46e18a=BixbyInc_0x545d,_0x200c25=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57[_0x46e18a(0x1f6)](_0x24c6d2,_0x528e2b,_0x204491));return _0x200c25||[];},_0x376c3d=!_0x453503||_0x2d1ebf(0x22a)in _0x453503?'before':_0x2d1ebf(0x1e2),_0x136840=!!_0x453503?_0x2d1ebf(0x22a)in _0x453503?_0x453503[_0x2d1ebf(0x22a)]:_0x453503[_0x2d1ebf(0x1e2)]:undefined,_0x2a2d77=_0x136840?_0xc7f7da[_0x2d1ebf(0x22e)](_0x136840['id']):undefined;let _0x2b9f72;if(_0xc7f7da&&_0x376c3d===_0x2d1ebf(0x22a)&&(!_0x136840||_0x2a2d77)){if(_0x2a2d77){const _0x491fc6=_0xc7f7da[_0x2d1ebf(0x21f)][_0x2d1ebf(0x1ee)](_0x52a202=>_0x52a202['key']['id']===_0x136840['id']);_0x2b9f72=_0xc7f7da['array'][_0x2d1ebf(0x1ea)](0x0,_0x491fc6);}else _0x2b9f72=_0xc7f7da[_0x2d1ebf(0x21f)];const _0x12775c=_0x3c60de-_0x2b9f72[_0x2d1ebf(0x215)];if(_0x12775c<0x0)_0x2b9f72=_0x2b9f72[_0x2d1ebf(0x1ea)](-_0x3c60de);else{if(_0x12775c>0x0){const [_0x117f75]=_0x2b9f72,_0x37491a={'before':(_0x117f75===null||_0x117f75===void 0x0?void 0x0:_0x117f75['key'])||_0x136840},_0x73dd8f=await _0x58e4e3(_0x12775c,_0x37491a);for(let _0x99f272=_0x73dd8f['length']-0x1;_0x99f272>=0x0;_0x99f272--){_0xc7f7da[_0x2d1ebf(0x20e)](_0x73dd8f[_0x99f272],_0x2d1ebf(0x219));}_0x2b9f72[_0x2d1ebf(0x227)](0x0,0x0,..._0x73dd8f);}}}else _0x2b9f72=await _0x58e4e3(_0x3c60de,_0x453503);return _0x2b9f72;}async function _0x16bfef(_0x54ee31,_0x494050){const _0x584308=_0x3bcd42;var _0x1eea30;let _0x23d32d=(_0x1eea30=_0x5495ef[_0x54ee31])===null||_0x1eea30===void 0x0?void 0x0:_0x1eea30[_0x584308(0x22e)](_0x494050);return!_0x23d32d&&(_0x23d32d=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57[_0x584308(0x1fd)](_0x54ee31,_0x494050))),_0x23d32d;}async function _0x2d6506(_0x443411){const _0x54dc3b=_0x3bcd42;var _0x51d02c;let _0x2f0bd=(_0x51d02c=_0x5495ef[_0x443411])===null||_0x51d02c===void 0x0?void 0x0:_0x51d02c[_0x54dc3b(0x21f)][_0x54dc3b(0x1ea)](-0x1)[0x0];if(!_0x2f0bd){const [_0x34fafa]=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57[_0x54dc3b(0x1f6)](_0x443411,0x1,undefined));_0x2f0bd=_0x34fafa;}return _0x2f0bd;}async function _0x27d9da(_0x1045c6){const _0x5c8eb8=_0x3bcd42,_0x490ca9=_0x900356[_0x1045c6];if(!_0x490ca9)return _0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57[_0x5c8eb8(0x207)](_0x1045c6,'image');return typeof _0x490ca9[_0x5c8eb8(0x21a)]===_0x5c8eb8(0x21c)&&(_0x490ca9['imgUrl']=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57['profilePictureUrl'](_0x1045c6))),_0x490ca9['imgUrl'];}async function _0x25162e(_0x58b3e6){const _0x25cb57=_0x3bcd42;return!_0xb234b8[_0x58b3e6]&&(_0xb234b8[_0x58b3e6]=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57[_0x25cb57(0x200)](_0x58b3e6))),_0xb234b8[_0x58b3e6];}async function _0x59f4f5(_0x3c12ea){return!_0xb234b8[_0x3c12ea]&&(_0xb234b8[_0x3c12ea]=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57['getBroadcastListInfo'](_0x3c12ea))),_0xb234b8[_0x3c12ea];}async function _0x2c2e28({remoteJid:_0x1a4f71,id:_0xf0f61f}){const _0x114fb6=_0x3bcd42,_0x1ad1db=_0x5495ef[_0x1a4f71],_0x52ffb6=_0x1ad1db===null||_0x1ad1db===void 0x0?void 0x0:_0x1ad1db['get'](_0xf0f61f);let _0x519ce3=_0x52ffb6[_0x114fb6(0x226)];return!_0x519ce3&&(_0x519ce3=await(_0x159c57===null||_0x159c57===void 0x0?void 0x0:_0x159c57[_0x114fb6(0x1e6)](_0x1a4f71,_0xf0f61f)),_0x52ffb6&&(_0x52ffb6['userReceipt']=_0x519ce3)),_0x519ce3;}return{'fetchMessageReceipts':_0x2c2e28,'fetchBroadcastListInfo':_0x59f4f5,'fetchGroupMetadata':_0x25162e,'fetchImageUrl':_0x27d9da,'mostRecentMessage':_0x2d6506,'loadMessages':_0x5012d4,'loadMessage':_0x16bfef,'chats':_0x5d5d97,'contacts':_0x900356,'messages':_0x5495ef,'groupMetadata':_0xb234b8,'state':_0x3e0371,'presences':_0x573c33,'bind':bind,'toJSON':_0xb5f387,'fromJSON':_0x5c83ce,'writeToFile':_0x3c9b6f=>{const _0x211007=_0x3bcd42,{writeFileSync:_0x10653a}=require('fs');_0x10653a(_0x3c9b6f,JSON[_0x211007(0x1e0)](_0xb5f387()));},'readFromFile':_0x2a70bf=>{const _0xa9a74b=_0x3bcd42,{readFileSync:_0x39f83b,existsSync:_0x3db04e}=require('fs');if(_0x3db04e(_0x2a70bf)){logger[_0xa9a74b(0x1e8)]({'path':_0x2a70bf},'reading\x20from\x20file');const _0x253ce3=_0x39f83b(_0x2a70bf,{'encoding':_0xa9a74b(0x20f)}),_0x1aa977=JSON[_0xa9a74b(0x21e)](_0x253ce3);_0x5c83ce(_0x1aa977);}}};}module['exports']={'bind':bind};