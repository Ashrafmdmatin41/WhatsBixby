/* Copyright (C) 2024 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

function BixbyInc_0x2bdc(_0x1eb6c5,_0x2326a2){const _0x232e8f=BixbyInc_0x232e();return BixbyInc_0x2bdc=function(_0x2bdc39,_0x18c542){_0x2bdc39=_0x2bdc39-0xc8;let _0x432870=_0x232e8f[_0x2bdc39];return _0x432870;},BixbyInc_0x2bdc(_0x1eb6c5,_0x2326a2);}const BixbyInc_0x5ab306=BixbyInc_0x2bdc;(function(_0x24effe,_0xe1e6e1){const _0x5ee0d5=BixbyInc_0x2bdc,_0x4fe83f=_0x24effe();while(!![]){try{const _0x32f72d=parseInt(_0x5ee0d5(0xdc))/0x1*(parseInt(_0x5ee0d5(0xd9))/0x2)+-parseInt(_0x5ee0d5(0xd4))/0x3*(parseInt(_0x5ee0d5(0xcb))/0x4)+-parseInt(_0x5ee0d5(0xd5))/0x5*(parseInt(_0x5ee0d5(0xca))/0x6)+parseInt(_0x5ee0d5(0xd8))/0x7+parseInt(_0x5ee0d5(0xcf))/0x8*(parseInt(_0x5ee0d5(0xd7))/0x9)+-parseInt(_0x5ee0d5(0xd0))/0xa*(parseInt(_0x5ee0d5(0xe1))/0xb)+parseInt(_0x5ee0d5(0xe2))/0xc;if(_0x32f72d===_0xe1e6e1)break;else _0x4fe83f['push'](_0x4fe83f['shift']());}catch(_0x3a86b6){_0x4fe83f['push'](_0x4fe83f['shift']());}}}(BixbyInc_0x232e,0xb518d));const config=require(BixbyInc_0x5ab306(0xda)),{DataTypes}=require(BixbyInc_0x5ab306(0xd1)),WarnsDB=config[BixbyInc_0x5ab306(0xce)][BixbyInc_0x5ab306(0xd2)](BixbyInc_0x5ab306(0xc8),{'userId':{'type':DataTypes['STRING'],'allowNull':![],'unique':!![]},'reasons':{'type':DataTypes[BixbyInc_0x5ab306(0xd6)],'allowNull':!![],'get'(){const _0x27c05c=BixbyInc_0x5ab306,_0x431d17=this[_0x27c05c(0xcc)]('reasons');return _0x431d17?JSON[_0x27c05c(0xe3)](_0x431d17):null;},'set'(_0x384500){const _0x175c16=BixbyInc_0x5ab306;this[_0x175c16(0xdd)]('reasons',_0x384500?JSON[_0x175c16(0xdb)](_0x384500):null);}},'warnCount':{'type':DataTypes['INTEGER'],'defaultValue':0x0},'createdAt':{'type':DataTypes[BixbyInc_0x5ab306(0xe4)],'allowNull':![]},'updatedAt':{'type':DataTypes['DATE'],'allowNull':![]}});async function getWarns(_0x31967c){const _0x546800=BixbyInc_0x5ab306;return await WarnsDB[_0x546800(0xd3)]({'where':{'userId':_0x31967c}});}async function saveWarn(_0x36a36b,_0x4f33d1){const _0x573596=BixbyInc_0x5ab306;let _0x3280f6=await getWarns(_0x36a36b);return _0x3280f6?(_0x3280f6[_0x573596(0xe0)]+=0x1,_0x4f33d1&&(_0x3280f6[_0x573596(0xcd)]=_0x3280f6['reasons']||[],_0x3280f6['reasons'][_0x573596(0xdf)](_0x4f33d1)),await _0x3280f6['save']()):_0x3280f6=await WarnsDB[_0x573596(0xde)]({'userId':_0x36a36b,'reasons':_0x4f33d1?[_0x4f33d1]:null,'warnCount':0x0,'createdAt':new Date(),'updatedAt':new Date()}),_0x3280f6;}async function resetWarn(_0x545220){const _0x9b636c=BixbyInc_0x5ab306;return await WarnsDB[_0x9b636c(0xc9)]({'where':{'userId':_0x545220},'truncate':!![]});}function BixbyInc_0x232e(){const _0x2a38ca=['7134001qzDyOw','1046872AmsjOz','../../config','stringify','2zoaTtO','setDataValue','create','push','warnCount','50677eoJUCr','18035628unzEwj','parse','DATE','warns','destroy','180498OgVtXv','3951848zbCAFY','getDataValue','reasons','DATABASE','8xStIMf','2830qEgNiW','sequelize','define','findOne','3SJbzhY','165npaews','STRING','4115439zqwazX'];BixbyInc_0x232e=function(){return _0x2a38ca;};return BixbyInc_0x232e();}module['exports']={'WarnsDB':WarnsDB,'getWarns':getWarns,'saveWarn':saveWarn,'resetWarn':resetWarn};
