/* Copyright (C) 2023 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/
var Ziyan_0x420fdf=Ziyan_0x26ff;(function(_0x231385,_0x1adb8f){var _0x1aca86=Ziyan_0x26ff,_0xfb05d1=_0x231385();while(!![]){try{var _0x5efb44=-parseInt(_0x1aca86(0xe8))/0x1*(parseInt(_0x1aca86(0xe7))/0x2)+-parseInt(_0x1aca86(0xe9))/0x3+parseInt(_0x1aca86(0xf5))/0x4*(parseInt(_0x1aca86(0xe3))/0x5)+parseInt(_0x1aca86(0xf7))/0x6+parseInt(_0x1aca86(0xf4))/0x7*(-parseInt(_0x1aca86(0xe4))/0x8)+parseInt(_0x1aca86(0xe6))/0x9*(parseInt(_0x1aca86(0xeb))/0xa)+parseInt(_0x1aca86(0xee))/0xb;if(_0x5efb44===_0x1adb8f)break;else _0xfb05d1['push'](_0xfb05d1['shift']());}catch(_0x253d42){_0xfb05d1['push'](_0xfb05d1['shift']());}}}(Ziyan_0x3dea,0x752d9));const config=require('../../config'),{DataTypes}=require('sequelize'),FiltersDB=config[Ziyan_0x420fdf(0xea)][Ziyan_0x420fdf(0xef)]('filters',{'chat':{'type':DataTypes[Ziyan_0x420fdf(0xf1)],'allowNull':![]},'pattern':{'type':DataTypes[Ziyan_0x420fdf(0xf2)],'allowNull':![]},'text':{'type':DataTypes[Ziyan_0x420fdf(0xf2)],'allowNull':![]},'regex':{'type':DataTypes['BOOLEAN'],'allowNull':![],'defaultValue':![]}});async function getFilter(_0x416444=null,_0x273837=null){var _0x10dfea=Ziyan_0x420fdf,_0x15afc5={'chat':_0x416444};if(_0x273837!==null)_0x15afc5[_0x10dfea(0xf3)]({'pattern':_0x273837});var _0x35bb6d=await FiltersDB['findAll']({'where':_0x15afc5});return _0x35bb6d[_0x10dfea(0xf0)]<0x1?![]:_0x35bb6d;}function Ziyan_0x26ff(_0x2afbba,_0x42083f){var _0x3dea60=Ziyan_0x3dea();return Ziyan_0x26ff=function(_0x26ff52,_0x4fa825){_0x26ff52=_0x26ff52-0xe3;var _0x252cca=_0x3dea60[_0x26ff52];return _0x252cca;},Ziyan_0x26ff(_0x2afbba,_0x42083f);}async function setFilter(_0xcfd455=null,_0x53a1c9=null,_0x5d51ba=null,_0x4a5ee6=![]){var _0x52960c=Ziyan_0x420fdf,_0x955070=await FiltersDB[_0x52960c(0xf6)]({'where':{'chat':_0xcfd455,'pattern':_0x53a1c9}});return _0x955070['length']<0x1?await FiltersDB[_0x52960c(0xec)]({'chat':_0xcfd455,'pattern':_0x53a1c9,'text':_0x5d51ba,'regex':_0x4a5ee6}):await _0x955070[0x0][_0x52960c(0xe5)]({'chat':_0xcfd455,'pattern':_0x53a1c9,'text':_0x5d51ba,'regex':_0x4a5ee6});}function Ziyan_0x3dea(){var _0x54e85f=['length','STRING','TEXT','push','4881149FqlENE','8972KRitHy','findAll','3202782CPUHle','125IKAWgG','8pMWLzB','update','9UJBDIA','978714PRaxRy','1XoZrpD','1667484JToSNt','DATABASE','5977630GiFtQn','create','destroy','11382998XtrDqn','define'];Ziyan_0x3dea=function(){return _0x54e85f;};return Ziyan_0x3dea();}async function deleteFilter(_0x5e2780=null,_0x467a3b){var _0x5579e7=Ziyan_0x420fdf,_0x535ab4=await FiltersDB[_0x5579e7(0xf6)]({'where':{'chat':_0x5e2780,'pattern':_0x467a3b}});return _0x535ab4[_0x5579e7(0xf0)]<0x1?![]:await _0x535ab4[0x0][_0x5579e7(0xed)]();}module['exports']={'FiltersDB':FiltersDB,'getFilter':getFilter,'setFilter':setFilter,'deleteFilter':deleteFilter};
