/* Copyright (C) 2023 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

const _0x14b4a0=_0x51ea;(function(_0x1f4831,_0xc0986d){const _0x27ad69=_0x51ea,_0x54a22d=_0x1f4831();while(!![]){try{const _0x13eb36=parseInt(_0x27ad69(0x195))/0x1*(-parseInt(_0x27ad69(0x193))/0x2)+-parseInt(_0x27ad69(0x188))/0x3+-parseInt(_0x27ad69(0x1a2))/0x4*(-parseInt(_0x27ad69(0x18c))/0x5)+-parseInt(_0x27ad69(0x1a8))/0x6*(parseInt(_0x27ad69(0x18d))/0x7)+parseInt(_0x27ad69(0x1a7))/0x8*(parseInt(_0x27ad69(0x19b))/0x9)+-parseInt(_0x27ad69(0x192))/0xa+parseInt(_0x27ad69(0x18e))/0xb;if(_0x13eb36===_0xc0986d)break;else _0x54a22d['push'](_0x54a22d['shift']());}catch(_0x1a4a9f){_0x54a22d['push'](_0x54a22d['shift']());}}}(_0x62da,0x9eea2));const {Bixby,isPublic,webpUpload}=require('../lib/'),ffmpeg=require('../lib/myffmpeg'),{upload}=require(_0x14b4a0(0x1a5));function _0x62da(){const _0x16ca86=['bixby-md','outputOptions','5054200keBQMB','18GsiDkV','-map','audio','2691825PKpzbD','video','end','_Reply\x20to\x20image|video|audio|sticker_','135OVgeNo','789614bTxqiK','16730989hNduPI','reply_message','downloadMediaMessage','Uploads\x20image\x20to\x20imgur.com','11456810edVBxh','6700iorsCI','output.mp4','26ljeryH','client','_Failed\x20to\x20upload\x20file!_','jid','[0:a]showvolume=f=1:b=4:w=720:h=68,format=yuv420p[vid]','link','18kPudDc','sendMessage','misc','url\x20?(.*)','_Audio\x20too\x20large.\x20Try\x20below\x2090\x20seconds!_','sticker','save','49604qdUZws','image','duration'];_0x62da=function(){return _0x16ca86;};return _0x62da();}function _0x51ea(_0x3eb93a,_0x3375b2){const _0x62daee=_0x62da();return _0x51ea=function(_0x51eace,_0xc3f84a){_0x51eace=_0x51eace-0x187;let _0x12a2f1=_0x62daee[_0x51eace];return _0x12a2f1;},_0x51ea(_0x3eb93a,_0x3375b2);}Bixby({'pattern':_0x14b4a0(0x19e),'fromMe':isPublic,'type':_0x14b4a0(0x19d),'desc':_0x14b4a0(0x191)},async _0x34b522=>{const _0x1fb63c=_0x14b4a0;if(_0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x1a0)])return await _0x34b522[_0x1fb63c(0x196)][_0x1fb63c(0x19c)](_0x34b522['jid'],{'text':'_'+await webpUpload(await _0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x190)]())+'_'},{'quoted':_0x34b522});else{if(_0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x187)]){if(_0x34b522['reply_message'][_0x1fb63c(0x1a4)]>0x5a)return await _0x34b522[_0x1fb63c(0x196)]['sendMessage'](_0x34b522['jid'],{'text':_0x1fb63c(0x19f)},{'quoted':_0x34b522});var _0x871e76=await _0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x190)]();ffmpeg(_0x871e76)[_0x1fb63c(0x1a6)](['-y','-filter_complex',_0x1fb63c(0x199),_0x1fb63c(0x1a9),'[vid]','-map\x200:a'])[_0x1fb63c(0x1a1)]('output.mp4')['on'](_0x1fb63c(0x18a),async()=>{const _0x29a40f=_0x1fb63c;try{var _0x4d6ff8=await upload(_0x29a40f(0x194));}catch{return await _0x34b522[_0x29a40f(0x196)][_0x29a40f(0x19c)](_0x34b522['jid'],{'text':_0x29a40f(0x197)},{'quoted':_0x34b522});}return await _0x34b522[_0x29a40f(0x196)]['sendMessage'](_0x34b522['jid'],{'text':'_'+_0x4d6ff8[_0x29a40f(0x19a)]+'_'},{'quoted':_0x34b522});});}else{if(_0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x1a3)]||_0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x189)])try{await _0x34b522['client'][_0x1fb63c(0x19c)](_0x34b522[_0x1fb63c(0x198)],{'text':'_'+(await upload(await _0x34b522[_0x1fb63c(0x18f)][_0x1fb63c(0x190)]()))['link']+'_'},{'quoted':_0x34b522});}catch{return await _0x34b522['client'][_0x1fb63c(0x19c)](_0x34b522[_0x1fb63c(0x198)],{'text':_0x1fb63c(0x197)},{'quoted':_0x34b522});}else return await _0x34b522['reply'](_0x1fb63c(0x18b));}}});
