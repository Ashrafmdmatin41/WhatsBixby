/* Copyright (C) 2023 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

const _0xbbae98=_0x169c;(function(_0x54fa5d,_0x503673){const _0x26bcb4=_0x169c,_0x2c6539=_0x54fa5d();while(!![]){try{const _0x5c3e6f=-parseInt(_0x26bcb4(0xfd))/0x1*(parseInt(_0x26bcb4(0xde))/0x2)+-parseInt(_0x26bcb4(0xcf))/0x3+-parseInt(_0x26bcb4(0xe5))/0x4*(parseInt(_0x26bcb4(0xed))/0x5)+-parseInt(_0x26bcb4(0xb3))/0x6+parseInt(_0x26bcb4(0xb7))/0x7+parseInt(_0x26bcb4(0xe4))/0x8*(-parseInt(_0x26bcb4(0xdf))/0x9)+parseInt(_0x26bcb4(0xd1))/0xa;if(_0x5c3e6f===_0x503673)break;else _0x2c6539['push'](_0x2c6539['shift']());}catch(_0x4d9627){_0x2c6539['push'](_0x2c6539['shift']());}}}(_0x48f8,0x59d31));function _0x169c(_0x4fde9a,_0x2f4f39){const _0x48f842=_0x48f8();return _0x169c=function(_0x169c15,_0x4e1562){_0x169c15=_0x169c15-0x96;let _0xf9929d=_0x48f842[_0x169c15];return _0xf9929d;},_0x169c(_0x4fde9a,_0x2f4f39);}const {default:makeWASocket,Browsers,makeInMemoryStore,useMultiFileAuthState}=require('@whiskeysockets/baileys'),fs=require('fs'),{serialize}=require(_0xbbae98(0xf8)),{Message,Image,Sticker}=require(_0xbbae98(0xc2)),express=require(_0xbbae98(0xc0)),app=express(),port=process[_0xbbae98(0xd7)][_0xbbae98(0xdc)]||0x1f40,pino=require(_0xbbae98(0x97)),path=require('path'),events=require(_0xbbae98(0x9d)),got=require(_0xbbae98(0xda)),config=require(_0xbbae98(0xe8)),{PluginDB}=require(_0xbbae98(0xb6)),Greetings=require(_0xbbae98(0x103)),{async}=require('q'),{decodeJid}=require(_0xbbae98(0xd0)),store=makeInMemoryStore({'logger':pino()['child']({'level':_0xbbae98(0xfb),'stream':_0xbbae98(0x100)})});require(_0xbbae98(0xad))['EventEmitter'][_0xbbae98(0xef)]=0x0;const aes256=require(_0xbbae98(0xea));let plaintext=config[_0xbbae98(0xc8)]['replaceAll'](_0xbbae98(0xfc),''),key=_0xbbae98(0xd8),decryptedPlainText=aes256[_0xbbae98(0xc4)](key,plaintext);async function md(){const _0x40b90b=_0xbbae98;let {body:_0x29faad}=await got('https://whatsbixby-api-5a8fb2c9192b.herokuapp.com/session?id='+decryptedPlainText),_0xa68ad7=JSON['parse'](_0x29faad)[_0x40b90b(0xeb)][0x0][_0x40b90b(0xb9)];fs[_0x40b90b(0xa2)](_0x40b90b(0xc9),_0xa68ad7);}function _0x48f8(){const _0x47f4dc=['store','message','replace','./lib/Greetings','split','pino','sticker','WORK_TYPE','parse','Desktop','/plugins','./lib/events','@g.us','loadMessage','type','⬇️\x20Installing\x20External\x20Plugins...','writeFileSync','WhatsBixby\x202.0.1','\x0a\x0a\x0a\x0a\x0a','function','body','map','HANDLERS','open','notify','\x0aWorktype:\x20','dataValues','events','WhatsBixby\x20Active!','extname','slice','messages','./plugins/','592698kUUqZI','listen','close','./lib/db/plugins','3549861VNAmUR','group-participants.update','data','groupMetadata','fromMe','forEach','log','shift','endsWith','express','send','./lib/Base','\x0aTotal\x20Plugins\x20:\x20','decrypt','Connection\x20closed\x20with\x20bot.\x20Please\x20put\x20New\x20Session\x20ID\x20again.','trim','⬇️\x20\x20Installing\x20Plugins...','SESSION_ID','./lib/auth_info_baileys/creds.json','commands','user','/plugins/','contacts.update','readdirSync','887451sIbguU','./lib/','19765040GbSjXQ','uncaughtException','.js','toLowerCase','stringify','version','env','bixbyneverdies','subject','got','catch','PORT','sendMessage','10aMcoNt','2172816LBvxDr','prefix','✅\x20Plugins\x20Installed!','LOGS','test','16gPHwVJ','4JGvLpD','image','connecting','./config','existsSync','aes256','result','creds.update','2973890IEBjYT','url','defaultMaxListeners','pattern','name','photo','messages.upsert','from','imageMessage','sync','isSelf','./lib/serialize','DATABASE','statusCode','silent','bixby~','128696ZMWTMQ','\x0aMessage:','connection.update'];_0x48f8=function(){return _0x47f4dc;};return _0x48f8();}md(),fs[_0xbbae98(0xce)](__dirname+'/plugins/')[_0xbbae98(0xbc)](_0x1aff8b=>{const _0x400f44=_0xbbae98;path[_0x400f44(0xaf)](_0x1aff8b)[_0x400f44(0xd4)]()==_0x400f44(0xd3)&&require(__dirname+_0x400f44(0xcc)+_0x1aff8b);});async function Bixby(){const _0x128060=_0xbbae98,{state:_0x4ad1b6,saveCreds:_0xd9dc7e}=await useMultiFileAuthState('./lib/auth_info_baileys/',pino({'level':'silent'}));await config[_0x128060(0xf9)][_0x128060(0xf6)]();let _0x3b9836=makeWASocket({'logger':pino({'level':'silent'}),'auth':_0x4ad1b6,'printQRInTerminal':!![],'generateHighQualityLinkPreview':!![],'browser':Browsers['macOS'](_0x128060(0x9b)),'fireInitQueries':![],'shouldSyncHistoryMessage':![],'downloadHistory':![],'syncFullHistory':![],'getMessage':async _0x3ac076=>(store[_0x128060(0x9f)](_0x3ac076['id'])||{})[_0x128060(0x101)]||{'conversation':null}});store['bind'](_0x3b9836['ev']),setInterval(()=>{store['writeToFile']('./lib/store.json');},0x1e*0x3e8),_0x3b9836['ev']['on'](_0x128060(0xec),_0xd9dc7e),_0x3b9836['ev']['on'](_0x128060(0xcd),_0x46f356=>{for(let _0x59286c of _0x46f356){let _0xe14ebd=decodeJid(_0x59286c['id']);if(store&&store['contacts'])store['contacts'][_0xe14ebd]={'id':_0xe14ebd,'name':_0x59286c['notify']};}}),_0x3b9836['ev']['on'](_0x128060(0xff),async _0x394aa6=>{const _0x282492=_0x128060,{connection:_0x2be078,lastDisconnect:_0x248dd6}=_0x394aa6;_0x2be078===_0x282492(0xe7)&&console[_0x282492(0xbd)](_0x282492(0xa3));if(_0x2be078===_0x282492(0xa9)){console[_0x282492(0xbd)]('✅\x20Login\x20Successful!'),console[_0x282492(0xbd)](_0x282492(0xa1));let _0x282176=await PluginDB['findAll']();_0x282176[_0x282492(0xa7)](async _0x35ad3f=>{const _0x511cf6=_0x282492;if(!fs[_0x511cf6(0xe9)](_0x511cf6(0xb2)+_0x35ad3f[_0x511cf6(0xac)]['name']+_0x511cf6(0xd3))){console[_0x511cf6(0xbd)](_0x35ad3f[_0x511cf6(0xac)][_0x511cf6(0xf1)]);var _0x5c7f52=await got(_0x35ad3f[_0x511cf6(0xac)][_0x511cf6(0xee)]);_0x5c7f52[_0x511cf6(0xfa)]==0xc8&&(fs['writeFileSync'](_0x511cf6(0xb2)+_0x35ad3f[_0x511cf6(0xac)][_0x511cf6(0xf1)]+'.js',_0x5c7f52['body']),require(__dirname+_0x511cf6(0xcc)+_0x35ad3f[_0x511cf6(0xac)][_0x511cf6(0xf1)]+_0x511cf6(0xd3)));}}),console[_0x282492(0xbd)](_0x282492(0xc7)),fs[_0x282492(0xce)](__dirname+_0x282492(0x9c))[_0x282492(0xbc)](_0x447bb0=>{const _0x1a3a82=_0x282492;path[_0x1a3a82(0xaf)](_0x447bb0)[_0x1a3a82(0xd4)]()=='.js'&&require(__dirname+_0x1a3a82(0xcc)+_0x447bb0);}),console['log'](_0x282492(0xe1));let _0x2a34a8='```WhatsBixby\x20Running\x20\x0aversion\x20:\x20'+require(__dirname+'/package.json')[_0x282492(0xd6)]+_0x282492(0xc3)+events[_0x282492(0xca)]['length']+_0x282492(0xab)+config[_0x282492(0x99)]+'```';_0x3b9836[_0x282492(0xdd)](_0x3b9836[_0x282492(0xcb)]['id'],{'text':_0x2a34a8});try{_0x3b9836['ev']['on'](_0x282492(0xb8),async _0x5004b8=>{Greetings(_0x5004b8,_0x3b9836);}),_0x3b9836['ev']['on'](_0x282492(0xf3),async _0x60d61a=>{const _0x3c77dc=_0x282492;if(_0x60d61a['type']!==_0x3c77dc(0xaa))return;const _0x350924=_0x60d61a[_0x3c77dc(0xb1)][0x0];let _0x4343e9=await serialize(JSON[_0x3c77dc(0x9a)](JSON[_0x3c77dc(0xd5)](_0x350924)),_0x3b9836,store);if(!_0x4343e9[_0x3c77dc(0x101)])return;if(_0x4343e9[_0x3c77dc(0xa6)][0x1]&&_0x4343e9['body'][0x1]=='\x20')_0x4343e9[_0x3c77dc(0xa6)]=_0x4343e9[_0x3c77dc(0xa6)][0x0]+_0x4343e9[_0x3c77dc(0xa6)][_0x3c77dc(0xb0)](0x2);let _0x4d9d55=_0x4343e9[_0x3c77dc(0xa6)];_0x4343e9['store']=store;if(_0x4d9d55&&config[_0x3c77dc(0xe2)])console[_0x3c77dc(0xbd)]('At\x20:\x20'+(_0x4343e9['from'][_0x3c77dc(0xbf)](_0x3c77dc(0x9e))?(await _0x3b9836[_0x3c77dc(0xba)](_0x4343e9['from']))[_0x3c77dc(0xd9)]:_0x4343e9[_0x3c77dc(0xf4)])+'\x0aFrom\x20:\x20'+_0x4343e9['sender']+_0x3c77dc(0xfe)+_0x4d9d55);events['commands'][_0x3c77dc(0xa7)](async _0x4e6a31=>{const _0x45caa3=_0x3c77dc;if(_0x4e6a31[_0x45caa3(0xbb)]&&!config['SUDO']['split'](',')['includes'](_0x4343e9['sender'][_0x45caa3(0x96)]('@')[0x0]||!_0x4343e9[_0x45caa3(0xf7)]))return;let _0x425602;_0x4d9d55&&(_0x425602=_0x4d9d55?_0x4d9d55[0x0]+_0x4d9d55[_0x45caa3(0xb0)](0x1)[_0x45caa3(0xc6)]()[_0x45caa3(0x96)]('\x20')[0x0][_0x45caa3(0xd4)]():'',_0x4343e9[_0x45caa3(0xe0)]=new RegExp(config[_0x45caa3(0xa8)])[_0x45caa3(0xe3)](_0x4d9d55)?_0x4d9d55['split']('')[_0x45caa3(0xbe)]():',');if(_0x4e6a31[_0x45caa3(0xf0)]&&_0x4e6a31[_0x45caa3(0xf0)][_0x45caa3(0xe3)](_0x425602)){var _0x15945d;try{_0x15945d=_0x4d9d55[_0x45caa3(0x102)](new RegExp(_0x425602,'i'),'')['trim']();}catch{_0x15945d=![];}whats=new Message(_0x3b9836,_0x4343e9,_0x350924),_0x4e6a31[_0x45caa3(0xa5)](whats,_0x15945d,_0x4343e9,_0x3b9836);}else{if(_0x4d9d55&&_0x4e6a31['on']==='text')whats=new Message(_0x3b9836,_0x4343e9,_0x350924),_0x4e6a31['function'](whats,_0x4d9d55,_0x4343e9,_0x3b9836,_0x60d61a);else{if((_0x4e6a31['on']===_0x45caa3(0xe6)||_0x4e6a31['on']===_0x45caa3(0xf2))&&_0x4343e9[_0x45caa3(0xa0)]===_0x45caa3(0xf5))whats=new Image(_0x3b9836,_0x4343e9,_0x350924),_0x4e6a31[_0x45caa3(0xa5)](whats,_0x4d9d55,_0x4343e9,_0x3b9836,_0x60d61a,_0x350924);else _0x4e6a31['on']===_0x45caa3(0x98)&&_0x4343e9['type']==='stickerMessage'&&(whats=new Sticker(_0x3b9836,_0x4343e9,_0x350924),_0x4e6a31[_0x45caa3(0xa5)](whats,_0x4343e9,_0x3b9836,_0x60d61a,_0x350924));}}});});}catch(_0x1a0066){console['log'](_0x1a0066+_0x282492(0xa4)+JSON[_0x282492(0xd5)](msg));}}if(_0x2be078===_0x282492(0xb5))console['log'](_0x394aa6),console[_0x282492(0xbd)](_0x282492(0xc5)),Bixby()[_0x282492(0xdb)](_0x25527b=>console['log'](_0x25527b));else{}}),process['on'](_0x128060(0xd2),async _0x2850d1=>{const _0x2138fb=_0x128060;let _0x25bb54=_0x2850d1[_0x2138fb(0x101)];await _0x3b9836[_0x2138fb(0xdd)](_0x3b9836['user']['id'],{'text':_0x25bb54}),console['log'](_0x2850d1);});}app['get']('/',(_0x59daa5,_0x29e6da)=>{const _0x1c27ec=_0xbbae98;_0x29e6da[_0x1c27ec(0xc1)](_0x1c27ec(0xae));}),app[_0xbbae98(0xb4)](port,()=>console[_0xbbae98(0xbd)](':'+port)),setTimeout(()=>{const _0x1482b5=_0xbbae98;Bixby()[_0x1482b5(0xdb)](_0x479fa3=>console['log'](_0x479fa3));},0xbb8);
