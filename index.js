/*Copyright (C) 2024 DX-MODS.
Licensed under the MIT License;
you may not use this file except in compliance with the License.
WhatsBixby - Ziyan
*/

const _0x2b2d1b=_0x32fb;(function(_0x2aacc4,_0x47fff1){const _0x1189d6=_0x32fb,_0x527456=_0x2aacc4();while(!![]){try{const _0xba0f8d=parseInt(_0x1189d6(0x1c6))/0x1*(-parseInt(_0x1189d6(0x1cd))/0x2)+parseInt(_0x1189d6(0x1b4))/0x3*(parseInt(_0x1189d6(0x17e))/0x4)+-parseInt(_0x1189d6(0x1d4))/0x5*(parseInt(_0x1189d6(0x1ac))/0x6)+parseInt(_0x1189d6(0x193))/0x7+-parseInt(_0x1189d6(0x185))/0x8*(-parseInt(_0x1189d6(0x1cb))/0x9)+-parseInt(_0x1189d6(0x17f))/0xa+-parseInt(_0x1189d6(0x192))/0xb*(parseInt(_0x1189d6(0x1b0))/0xc);if(_0xba0f8d===_0x47fff1)break;else _0x527456['push'](_0x527456['shift']());}catch(_0x48f7c4){_0x527456['push'](_0x527456['shift']());}}}(_0x59be,0xa9e12));function _0x59be(){const _0x5bb679=['DATABASE','trim','WORK_TYPE','54710EreyEP','split','env','isSelf','contacts','express','/plugins','commands','sendMessage','⬇️\x20Installing\x20External\x20Plugins...','log','subject','result','session?id=','replaceAll','pino','body','PORT','⬇️\x20\x20Installing\x20Plugins...','extname','@whiskeysockets/baileys','./lib/store.json','parse','name','709868ILhgWj','9603070QaCUVO','bixby~','Desktop','readdirSync','/plugins/','send','8NwcGLV','\x0aTotal\x20Plugins\x20:\x20','macOS','./plugins/','got','✅\x20Plugins\x20Installed!','writeToFile','map','url','toLowerCase','\x0aFrom\x20:\x20','WhatsBixby\x202.0.1','defaultMaxListeners','5654oWHOFm','2759190GvjdBV','@g.us','WhatsBixby\x20Active!','```WhatsBixby\x20Running\x20\x0aversion\x20:\x20','./lib/auth_info_baileys/creds.json','store','PREFIX','photo','sender','./lib/','messages.upsert','sync','close','\x0aWorktype:\x20','bixbyneverdies','SUDO','EventEmitter','LOGS','```','endsWith','catch','type','./lib/serialize','imageMessage','test','30FtImSi','./lib/Base','At\x20:\x20','connecting','13344uMASPc','slice','silent','connection.update','15iSRMCl','findAll','function','includes','./config','fromMe','child','forEach','message','get','from','notify','uncaughtException','open','events','creds.update','dataValues','/package.json','168141EprvJh','decrypt','stringify','sticker','.js','12034692rnLuTK','listen','4bdJlAp','messages','./lib/events','\x0a\x0a\x0a\x0a\x0a'];_0x59be=function(){return _0x5bb679;};return _0x59be();}const {default:makeWASocket,Browsers,makeInMemoryStore,useMultiFileAuthState}=require(_0x2b2d1b(0x17a)),fs=require('fs'),{serialize}=require(_0x2b2d1b(0x1a9)),{Message,Image,Sticker}=require(_0x2b2d1b(0x1ad)),express=require(_0x2b2d1b(0x1d9)),app=express(),port=process[_0x2b2d1b(0x1d6)][_0x2b2d1b(0x177)]||0x1f40,pino=require(_0x2b2d1b(0x175)),path=require('path'),events=require(_0x2b2d1b(0x1cf)),got=require(_0x2b2d1b(0x189)),config=require(_0x2b2d1b(0x1b8)),{BASE_URL,PORT}=require(_0x2b2d1b(0x1b8)),{PluginDB}=require('./lib/db/plugins'),Greetings=require('./lib/Greetings'),{async}=require('q'),{decodeJid}=require(_0x2b2d1b(0x19c)),store=makeInMemoryStore({'logger':pino()[_0x2b2d1b(0x1ba)]({'level':'silent','stream':_0x2b2d1b(0x198)})});require(_0x2b2d1b(0x1c2))[_0x2b2d1b(0x1a3)][_0x2b2d1b(0x191)]=0x0;const aes256=require('aes256');let plaintext=config['SESSION_ID'][_0x2b2d1b(0x174)](_0x2b2d1b(0x180),''),key=_0x2b2d1b(0x1a1),decryptedPlainText=aes256[_0x2b2d1b(0x1c7)](key,plaintext);async function md(){const _0x15e0a0=_0x2b2d1b;let {body:_0x392e1e}=await got(BASE_URL+_0x15e0a0(0x173)+decryptedPlainText),_0x337995=JSON[_0x15e0a0(0x17c)](_0x392e1e)[_0x15e0a0(0x172)][0x0]['data'];fs['writeFileSync'](_0x15e0a0(0x197),_0x337995);}function _0x32fb(_0x4db069,_0x29da84){const _0x59be54=_0x59be();return _0x32fb=function(_0x32fb81,_0xbb8126){_0x32fb81=_0x32fb81-0x16e;let _0x49269b=_0x59be54[_0x32fb81];return _0x49269b;},_0x32fb(_0x4db069,_0x29da84);}md(),fs[_0x2b2d1b(0x182)](__dirname+_0x2b2d1b(0x183))[_0x2b2d1b(0x1bb)](_0x5c1b7b=>{const _0x23359f=_0x2b2d1b;path[_0x23359f(0x179)](_0x5c1b7b)[_0x23359f(0x18e)]()==_0x23359f(0x1ca)&&require(__dirname+'/plugins/'+_0x5c1b7b);});async function Bixby(){const _0x20084a=_0x2b2d1b,{state:_0x2882a9,saveCreds:_0x21b956}=await useMultiFileAuthState('./lib/auth_info_baileys/',pino({'level':_0x20084a(0x1b2)}));await config[_0x20084a(0x1d1)][_0x20084a(0x19e)]();let _0x55407a=makeWASocket({'logger':pino({'level':_0x20084a(0x1b2)}),'auth':_0x2882a9,'printQRInTerminal':!![],'generateHighQualityLinkPreview':!![],'browser':Browsers[_0x20084a(0x187)](_0x20084a(0x181)),'fireInitQueries':![],'shouldSyncHistoryMessage':![],'downloadHistory':![],'syncFullHistory':![],'getMessage':async _0x522ab9=>(store['loadMessage'](_0x522ab9['id'])||{})['message']||{'conversation':null}});store['bind'](_0x55407a['ev']),setInterval(()=>{const _0x449fa8=_0x20084a;store[_0x449fa8(0x18b)](_0x449fa8(0x17b));},0x1e*0x3e8),_0x55407a['ev']['on'](_0x20084a(0x1c3),_0x21b956),_0x55407a['ev']['on']('contacts.update',_0x57c1e3=>{const _0x16c05e=_0x20084a;for(let _0x1892c4 of _0x57c1e3){let _0x5bff4a=decodeJid(_0x1892c4['id']);if(store&&store[_0x16c05e(0x1d8)])store[_0x16c05e(0x1d8)][_0x5bff4a]={'id':_0x5bff4a,'name':_0x1892c4[_0x16c05e(0x1bf)]};}}),_0x55407a['ev']['on'](_0x20084a(0x1b3),async _0x1d5a87=>{const _0x42892f=_0x20084a,{connection:_0x496e88,lastDisconnect:_0x2f59db}=_0x1d5a87;_0x496e88===_0x42892f(0x1af)&&console[_0x42892f(0x170)](_0x42892f(0x190));if(_0x496e88===_0x42892f(0x1c1)){console['log']('✅\x20Login\x20Successful!'),console[_0x42892f(0x170)](_0x42892f(0x16f));let _0x5c6c7d=await PluginDB[_0x42892f(0x1b5)]();_0x5c6c7d[_0x42892f(0x18c)](async _0x599fc6=>{const _0x5b0f84=_0x42892f;if(!fs['existsSync'](_0x5b0f84(0x188)+_0x599fc6[_0x5b0f84(0x1c4)][_0x5b0f84(0x17d)]+_0x5b0f84(0x1ca))){console[_0x5b0f84(0x170)](_0x599fc6[_0x5b0f84(0x1c4)][_0x5b0f84(0x17d)]);var _0x10a79e=await got(_0x599fc6['dataValues'][_0x5b0f84(0x18d)]);_0x10a79e['statusCode']==0xc8&&(fs['writeFileSync'](_0x5b0f84(0x188)+_0x599fc6['dataValues']['name']+_0x5b0f84(0x1ca),_0x10a79e[_0x5b0f84(0x176)]),require(__dirname+_0x5b0f84(0x183)+_0x599fc6[_0x5b0f84(0x1c4)]['name']+_0x5b0f84(0x1ca)));}}),console[_0x42892f(0x170)](_0x42892f(0x178)),fs[_0x42892f(0x182)](__dirname+_0x42892f(0x1da))[_0x42892f(0x1bb)](_0x4206c3=>{const _0xb50cb4=_0x42892f;path[_0xb50cb4(0x179)](_0x4206c3)[_0xb50cb4(0x18e)]()=='.js'&&require(__dirname+_0xb50cb4(0x183)+_0x4206c3);}),console[_0x42892f(0x170)](_0x42892f(0x18a));let _0x3be25d=_0x42892f(0x196)+require(__dirname+_0x42892f(0x1c5))['version']+_0x42892f(0x186)+events[_0x42892f(0x1db)]['length']+_0x42892f(0x1a0)+config[_0x42892f(0x1d3)]+_0x42892f(0x1a5);_0x55407a['sendMessage'](_0x55407a['user']['id'],{'text':_0x3be25d});try{_0x55407a['ev']['on']('group-participants.update',async _0x5ec2f8=>{Greetings(_0x5ec2f8,_0x55407a);}),_0x55407a['ev']['on'](_0x42892f(0x19d),async _0x4c2f04=>{const _0x4ad635=_0x42892f;if(_0x4c2f04[_0x4ad635(0x1a8)]!=='notify')return;const _0x2cae9d=_0x4c2f04[_0x4ad635(0x1ce)][0x0];let _0x11ef45=await serialize(JSON[_0x4ad635(0x17c)](JSON[_0x4ad635(0x1c8)](_0x2cae9d)),_0x55407a,store);if(!_0x11ef45[_0x4ad635(0x1bc)])return;if(_0x11ef45[_0x4ad635(0x176)][0x1]&&_0x11ef45[_0x4ad635(0x176)][0x1]=='\x20')_0x11ef45['body']=_0x11ef45['body'][0x0]+_0x11ef45['body']['slice'](0x2);let _0x4e73b3=_0x11ef45['body'];_0x11ef45[_0x4ad635(0x198)]=store;if(_0x4e73b3&&config[_0x4ad635(0x1a4)])console[_0x4ad635(0x170)](_0x4ad635(0x1ae)+(_0x11ef45[_0x4ad635(0x1be)][_0x4ad635(0x1a6)](_0x4ad635(0x194))?(await _0x55407a['groupMetadata'](_0x11ef45[_0x4ad635(0x1be)]))[_0x4ad635(0x171)]:_0x11ef45[_0x4ad635(0x1be)])+_0x4ad635(0x18f)+_0x11ef45['sender']+'\x0aMessage:'+_0x4e73b3);events[_0x4ad635(0x1db)][_0x4ad635(0x18c)](async _0x57216d=>{const _0x1290de=_0x4ad635;if(_0x57216d[_0x1290de(0x1b9)]&&!config[_0x1290de(0x1a2)][_0x1290de(0x1d5)](',')[_0x1290de(0x1b7)](_0x11ef45[_0x1290de(0x19b)][_0x1290de(0x1d5)]('@')[0x0]||!_0x11ef45[_0x1290de(0x1d7)]))return;let _0xbfefe4;_0x4e73b3&&(_0xbfefe4=_0x4e73b3?_0x4e73b3[0x0]+_0x4e73b3[_0x1290de(0x1b1)](0x1)[_0x1290de(0x1d2)]()[_0x1290de(0x1d5)]('\x20')[0x0][_0x1290de(0x18e)]():'',_0x11ef45['prefix']=new RegExp(config[_0x1290de(0x199)])['test'](_0x4e73b3)?_0x4e73b3['split']('')['shift']():',');if(_0x57216d['pattern']&&_0x57216d['pattern'][_0x1290de(0x1ab)](_0xbfefe4)){var _0x52fc14;try{_0x52fc14=_0x4e73b3['replace'](new RegExp(_0xbfefe4,'i'),'')[_0x1290de(0x1d2)]();}catch{_0x52fc14=![];}whats=new Message(_0x55407a,_0x11ef45,_0x2cae9d),_0x57216d[_0x1290de(0x1b6)](whats,_0x52fc14,_0x11ef45,_0x55407a);}else{if(_0x4e73b3&&_0x57216d['on']==='text')whats=new Message(_0x55407a,_0x11ef45,_0x2cae9d),_0x57216d[_0x1290de(0x1b6)](whats,_0x4e73b3,_0x11ef45,_0x55407a,_0x4c2f04);else{if((_0x57216d['on']==='image'||_0x57216d['on']===_0x1290de(0x19a))&&_0x11ef45[_0x1290de(0x1a8)]===_0x1290de(0x1aa))whats=new Image(_0x55407a,_0x11ef45,_0x2cae9d),_0x57216d['function'](whats,_0x4e73b3,_0x11ef45,_0x55407a,_0x4c2f04,_0x2cae9d);else _0x57216d['on']===_0x1290de(0x1c9)&&_0x11ef45[_0x1290de(0x1a8)]==='stickerMessage'&&(whats=new Sticker(_0x55407a,_0x11ef45,_0x2cae9d),_0x57216d[_0x1290de(0x1b6)](whats,_0x11ef45,_0x55407a,_0x4c2f04,_0x2cae9d));}}});});}catch(_0x3b74cd){console[_0x42892f(0x170)](_0x3b74cd+_0x42892f(0x1d0)+JSON['stringify'](msg));}}if(_0x496e88===_0x42892f(0x19f))console[_0x42892f(0x170)](_0x1d5a87),console[_0x42892f(0x170)]('Connection\x20closed\x20with\x20bot.\x20Please\x20put\x20New\x20Session\x20ID\x20again.'),Bixby()[_0x42892f(0x1a7)](_0x3adb9f=>console['log'](_0x3adb9f));else{}}),process['on'](_0x20084a(0x1c0),async _0x2029db=>{const _0x24ae0d=_0x20084a;let _0xddca6f=_0x2029db[_0x24ae0d(0x1bc)];await _0x55407a[_0x24ae0d(0x16e)](_0x55407a['user']['id'],{'text':_0xddca6f}),console['log'](_0x2029db);});}app[_0x2b2d1b(0x1bd)]('/',(_0x27cb49,_0x190e2f)=>{const _0xde87f5=_0x2b2d1b;_0x190e2f[_0xde87f5(0x184)](_0xde87f5(0x195));}),app[_0x2b2d1b(0x1cc)](PORT,()=>console[_0x2b2d1b(0x170)](':'+PORT)),setTimeout(()=>{const _0x17e21a=_0x2b2d1b;Bixby()[_0x17e21a(0x1a7)](_0x19312a=>console[_0x17e21a(0x170)](_0x19312a));},0xbb8);
